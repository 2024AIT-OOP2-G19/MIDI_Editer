# MIDIファイルエディター

## 仕様

* midiファイルの新規作成、読み込み、編集、保存
* VSTプラグインでの再生、wavファイル保存

## 前提条件

各種ライブラリのインストール:

* `pip install -r requirements.txt`でインストールできます。

  * dawdreamer 0.8.3
  * mido 1.3.3
  * numpy 2.1.2
  * PySide6 6.8.0.1
  * scipy 1.14.1
  * sounddevice 0.5.1

[VSTプラグイン](https://ja.m.wikipedia.org/wiki/Virtual_Studio_Technology)のダウンロード:

* ライブラリの問題で、一部プラグインは正常に動きません。
* 無料ウェーブテーブルシンセサイザー [VITAL](https://vital.audio/) (v1.5.5 動作確認済み)
  * VITALのデフォルトの保存場所: `/Library/Audio/Plug-Ins/VST3/vital.vst3`

## 使い方

1. top_layout.pyを起動する。
3. 既存のmidiファイルを読み込む場合は「続きから」、新規作成の場合は「初めから」のボタンを押し、メインウィンドウを表示する。続きからの場合、ファイルダイアログが表示されるので.midファイルを選択する。
4. メインウィンドウ右側のピアノロールでmidi情報を編集する。続きからの場合、最初から読み込んだ.midファイルの情報が表示される。

  * **ノートの追加**: 空欄をダブルクリック
  * **ノートの移動**: ノート上でドラッグ&ドロップ
  * **ノートの長さ変更**: ノートの右端でドラッグ&ドロップ
  * **ノートの削除**: ノートを右クリック

4. 左側のボタンで保存や再生などの操作をする。

  * **再生ボタン**: 書き出した.wavファイルを再生
  * **MIDI保存**: ピアノロールで編集したmidiデータを.midファイルとして保存
  * **音声書き出し**: 保存した.midファイルを読み込んだVSTプラグインで演奏した音声を.wavファイルとして名前をつけて書き出し
  * **VST読み込み**: ファイルダイアログを開き、.vstまたは.vst3、.component ファイルを読み込んだのち、VSTプラグインの設定画面を開く
  * **VST設定**: 読み込んだVSTプラグインの設定画面を開く
  * **bpm**: テンポを設定
  * VSTプラグインを読み込む前に事前にVSTプラグインの読み込みが必要な操作をすると、先にVST読み込みボタンを押した時の動作をする

5. 左上の×マークでウィンドウを閉じて、アプリを終了する。midiファイルを保存するか聞かれるので、保存する場合はYESを押す。
